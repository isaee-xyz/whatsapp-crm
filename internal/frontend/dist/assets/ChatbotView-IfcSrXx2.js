import{_ as c,a as f}from"./CardContent.vue_vue_type_script_setup_true_lang-BVSlREZs.js";import{_ as m,a as _}from"./CardTitle.vue_vue_type_script_setup_true_lang-C5-EVre-.js";import{_ as v}from"./CardDescription.vue_vue_type_script_setup_true_lang-CRilvynw.js";import{_ as k}from"./Button.vue_vue_type_script_setup_true_lang-CdpToHaS.js";import{_ as h}from"./Badge.vue_vue_type_script_setup_true_lang-lXziiQoX.js";import{_ as j}from"./ScrollArea.vue_vue_type_script_setup_true_lang-BYu-HJVo.js";import{d as F,r as b,x as L,Q as w,c as C,h as t,a as e,w as a,b as s,i as l,v as i,F as N,s as T,k as y,n as D,t as K,g as B,o as g,K as S}from"./index-CYNh7eqI.js";import{a as R}from"./createLucideIcon-CJWRy_ZI.js";import{U as V}from"./users-Chow1_7q.js";import{M as E}from"./message-square-DMmm80JC.js";import{T as P}from"./trending-up-158risil.js";import{S as M}from"./sparkles-B97ihEtN.js";import{K as U}from"./key-DYPJDATy.js";import{W as z}from"./workflow-Ckj7YDG5.js";import{S as W}from"./settings-CNbxJwUX.js";import{C as q}from"./clock-ClXEs7uf.js";/**
 * @license lucide-vue-next v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=R("PowerIcon",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),H={class:"flex flex-col h-full"},O={class:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"},Q={class:"flex h-16 items-center justify-between px-6"},J={class:"flex items-center gap-3"},X={class:"p-6 space-y-6"},Y={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},Z={class:"text-2xl font-bold"},ee={class:"grid gap-4 md:grid-cols-3"},te={class:"flex items-center gap-3"},se={class:"h-10 w-10 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center"},ae={class:"flex items-center gap-3"},oe={class:"h-10 w-10 rounded-lg bg-purple-100 dark:bg-purple-900 flex items-center justify-center"},le={class:"flex items-center gap-3"},ne={class:"h-10 w-10 rounded-lg bg-orange-100 dark:bg-orange-900 flex items-center justify-center"},ie={class:"flex items-center justify-between"},re={class:"grid gap-4 md:grid-cols-2"},de={class:"space-y-2"},ue={class:"text-sm text-muted-foreground bg-muted p-3 rounded-lg"},ce={class:"space-y-2"},fe={class:"text-sm text-muted-foreground bg-muted p-3 rounded-lg"},me={class:"space-y-2"},_e={class:"flex items-center gap-2 text-sm"},ge={class:"space-y-2"},pe={class:"flex items-center gap-2"},Te=F({__name:"ChatbotView",setup(ve){const n=b({enabled:!1,greeting_message:"",fallback_message:"",session_timeout_minutes:30,ai_enabled:!1,ai_provider:""}),d=b({total_sessions:0,active_sessions:0,messages_handled:0,ai_responses:0,agent_transfers:0,keywords_count:0,flows_count:0,ai_contexts_count:0}),I=b(!0),x=b(!1);L(async()=>{try{const r=await w.getSettings(),o=r.data.data||r.data;n.value=o.settings||n.value,d.value=o.stats||d.value}catch(r){console.error("Failed to load chatbot settings:",r)}finally{I.value=!1}});async function $(){x.value=!0;try{const r=!n.value.enabled;await w.updateSettings({enabled:r}),n.value.enabled=r,S.success(r?"Chatbot enabled":"Chatbot disabled")}catch{S.error("Failed to toggle chatbot")}finally{x.value=!1}}const A=[{title:"Total Sessions",key:"total_sessions",icon:V,color:"text-blue-500"},{title:"Active Sessions",key:"active_sessions",icon:E,color:"text-green-500"},{title:"Messages Handled",key:"messages_handled",icon:P,color:"text-purple-500"},{title:"AI Responses",key:"ai_responses",icon:M,color:"text-orange-500"}];return(r,o)=>{const p=B("RouterLink");return g(),C("div",H,[t("header",O,[t("div",Q,[o[0]||(o[0]=t("div",null,[t("h1",{class:"text-xl font-semibold"},"Chatbot"),t("p",{class:"text-sm text-muted-foreground"},"Manage automated responses and AI conversations")],-1)),t("div",J,[e(s(h),{variant:n.value.enabled?"default":"secondary"},{default:a(()=>[l(i(n.value.enabled?"Active":"Inactive"),1)]),_:1},8,["variant"]),e(s(k),{variant:n.value.enabled?"destructive":"default",onClick:$,disabled:x.value},{default:a(()=>[e(s(G),{class:"h-4 w-4 mr-2"}),l(" "+i(n.value.enabled?"Disable":"Enable")+" Chatbot ",1)]),_:1},8,["variant","disabled"])])])]),e(s(j),{class:"flex-1"},{default:a(()=>[t("div",X,[t("div",Y,[(g(),C(N,null,T(A,u=>e(s(c),{key:u.key},{default:a(()=>[e(s(m),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[e(s(_),{class:"text-sm font-medium"},{default:a(()=>[l(i(u.title),1)]),_:2},1024),(g(),y(K(u.icon),{class:D(["h-5 w-5",u.color])},null,8,["class"]))]),_:2},1024),e(s(f),null,{default:a(()=>[t("div",Z,i(d.value[u.key].toLocaleString()),1)]),_:2},1024)]),_:2},1024)),64))]),t("div",ee,[e(p,{to:"/chatbot/keywords"},{default:a(()=>[e(s(c),{class:"hover:bg-accent/50 transition-colors cursor-pointer h-full"},{default:a(()=>[e(s(m),null,{default:a(()=>[t("div",te,[t("div",se,[e(s(U),{class:"h-5 w-5 text-blue-600 dark:text-blue-400"})]),t("div",null,[e(s(_),{class:"text-lg"},{default:a(()=>[...o[1]||(o[1]=[l("Keyword Rules",-1)])]),_:1}),e(s(v),null,{default:a(()=>[l(i(d.value.keywords_count)+" rules configured",1)]),_:1})])])]),_:1}),e(s(f),null,{default:a(()=>[...o[2]||(o[2]=[t("p",{class:"text-sm text-muted-foreground"}," Create automated responses triggered by specific keywords or phrases. ",-1)])]),_:1})]),_:1})]),_:1}),e(p,{to:"/chatbot/flows"},{default:a(()=>[e(s(c),{class:"hover:bg-accent/50 transition-colors cursor-pointer h-full"},{default:a(()=>[e(s(m),null,{default:a(()=>[t("div",ae,[t("div",oe,[e(s(z),{class:"h-5 w-5 text-purple-600 dark:text-purple-400"})]),t("div",null,[e(s(_),{class:"text-lg"},{default:a(()=>[...o[3]||(o[3]=[l("Conversation Flows",-1)])]),_:1}),e(s(v),null,{default:a(()=>[l(i(d.value.flows_count)+" flows created",1)]),_:1})])])]),_:1}),e(s(f),null,{default:a(()=>[...o[4]||(o[4]=[t("p",{class:"text-sm text-muted-foreground"}," Design multi-step conversation flows with branching logic. ",-1)])]),_:1})]),_:1})]),_:1}),e(p,{to:"/chatbot/ai"},{default:a(()=>[e(s(c),{class:"hover:bg-accent/50 transition-colors cursor-pointer h-full"},{default:a(()=>[e(s(m),null,{default:a(()=>[t("div",le,[t("div",ne,[e(s(M),{class:"h-5 w-5 text-orange-600 dark:text-orange-400"})]),t("div",null,[e(s(_),{class:"text-lg"},{default:a(()=>[...o[5]||(o[5]=[l("AI Contexts",-1)])]),_:1}),e(s(v),null,{default:a(()=>[l(i(d.value.ai_contexts_count)+" contexts active",1)]),_:1})])])]),_:1}),e(s(f),null,{default:a(()=>[...o[6]||(o[6]=[t("p",{class:"text-sm text-muted-foreground"}," Configure AI-powered responses with custom knowledge bases. ",-1)])]),_:1})]),_:1})]),_:1})]),e(s(c),null,{default:a(()=>[e(s(m),null,{default:a(()=>[t("div",ie,[t("div",null,[e(s(_),null,{default:a(()=>[...o[7]||(o[7]=[l("Current Configuration",-1)])]),_:1}),e(s(v),null,{default:a(()=>[...o[8]||(o[8]=[l("Overview of your chatbot settings",-1)])]),_:1})]),e(p,{to:"/settings"},{default:a(()=>[e(s(k),{variant:"outline",size:"sm"},{default:a(()=>[e(s(W),{class:"h-4 w-4 mr-2"}),o[9]||(o[9]=l(" Edit Settings ",-1))]),_:1})]),_:1})])]),_:1}),e(s(f),null,{default:a(()=>[t("div",re,[t("div",de,[o[10]||(o[10]=t("h4",{class:"font-medium text-sm"},"Greeting Message",-1)),t("p",ue,i(n.value.greeting_message||"Not configured"),1)]),t("div",ce,[o[11]||(o[11]=t("h4",{class:"font-medium text-sm"},"Fallback Message",-1)),t("p",fe,i(n.value.fallback_message||"Not configured"),1)]),t("div",me,[o[12]||(o[12]=t("h4",{class:"font-medium text-sm"},"Session Timeout",-1)),t("div",_e,[e(s(q),{class:"h-4 w-4 text-muted-foreground"}),l(" "+i(n.value.session_timeout_minutes)+" minutes ",1)])]),t("div",ge,[o[14]||(o[14]=t("h4",{class:"font-medium text-sm"},"AI Provider",-1)),t("div",pe,[n.value.ai_enabled?(g(),y(s(h),{key:0,variant:"default"},{default:a(()=>[l(i(n.value.ai_provider||"Not configured"),1)]),_:1})):(g(),y(s(h),{key:1,variant:"secondary"},{default:a(()=>[...o[13]||(o[13]=[l("Disabled",-1)])]),_:1}))])])])]),_:1})]),_:1})])]),_:1})])}}});export{Te as default};
