import{_ as p,a as x}from"./CardContent.vue_vue_type_script_setup_true_lang-BVSlREZs.js";import{_ as h,a as b}from"./CardTitle.vue_vue_type_script_setup_true_lang-C5-EVre-.js";import{_ as k}from"./CardDescription.vue_vue_type_script_setup_true_lang-CRilvynw.js";import{_ as N}from"./Badge.vue_vue_type_script_setup_true_lang-lXziiQoX.js";import{_ as V}from"./ScrollArea.vue_vue_type_script_setup_true_lang-BYu-HJVo.js";import{d as R,r as y,x as U,y as I,c as f,h as s,a as e,w as n,b as o,F as w,s as C,i as r,g as q,o as d,k as M,v as c,t as T,n as g,l as z}from"./index-CYNh7eqI.js";import{M as D}from"./message-square-DMmm80JC.js";import{S as $}from"./send-BPuayp4C.js";import{B as K}from"./bot-D9zzBn9G.js";import{U as A}from"./users-Chow1_7q.js";import{T as E}from"./trending-up-158risil.js";import{a as H}from"./createLucideIcon-CJWRy_ZI.js";import{C as J}from"./clock-ClXEs7uf.js";import{C as Q}from"./check-check-mfYiyYzL.js";/**
 * @license lucide-vue-next v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=H("TrendingDownIcon",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),O={class:"flex flex-col h-full"},P={class:"p-6 space-y-6"},W={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},X={class:"text-2xl font-bold"},Y={class:"flex items-center text-xs text-muted-foreground mt-1"},Z={class:"grid gap-4 md:grid-cols-2"},tt={class:"space-y-4"},et={class:"flex-1 min-w-0"},st={class:"flex items-center justify-between"},at={class:"text-sm font-medium truncate"},ot={class:"text-xs text-muted-foreground flex items-center gap-1"},nt={class:"text-sm text-muted-foreground truncate"},lt={class:"flex items-center gap-2 mt-1"},rt={key:0,class:"text-xs text-muted-foreground flex items-center"},ct={class:"grid grid-cols-2 gap-3"},Ct=R({__name:"DashboardView",setup(it){const i=y({total_messages:0,messages_change:0,total_contacts:0,contacts_change:0,chatbot_sessions:0,chatbot_change:0,campaigns_sent:0,campaigns_change:0}),_=y([]),S=y(!0),j=[{title:"Total Messages",key:"total_messages",changeKey:"messages_change",icon:D,color:"text-blue-500"},{title:"Contacts",key:"total_contacts",changeKey:"contacts_change",icon:A,color:"text-green-500"},{title:"Chatbot Sessions",key:"chatbot_sessions",changeKey:"chatbot_change",icon:K,color:"text-purple-500"},{title:"Campaigns Sent",key:"campaigns_sent",changeKey:"campaigns_change",icon:$,color:"text-orange-500"}],B=l=>l>=1e6?(l/1e6).toFixed(1)+"M":l>=1e3?(l/1e3).toFixed(1)+"K":l.toString(),F=l=>{const t=new Date(l),a=new Date().getTime()-t.getTime(),u=Math.floor(a/6e4),v=Math.floor(a/36e5),L=Math.floor(a/864e5);return u<1?"Just now":u<60?`${u}m ago`:v<24?`${v}h ago`:`${L}d ago`};return U(async()=>{try{const l=await I.dashboard(),t=l.data.data||l.data;i.value=t.stats||{total_messages:0,messages_change:0,total_contacts:0,contacts_change:0,chatbot_sessions:0,chatbot_change:0,campaigns_sent:0,campaigns_change:0},_.value=t.recent_messages||[]}catch(l){console.error("Failed to load dashboard data:",l),i.value={total_messages:0,messages_change:0,total_contacts:0,contacts_change:0,chatbot_sessions:0,chatbot_change:0,campaigns_sent:0,campaigns_change:0},_.value=[]}finally{S.value=!1}}),(l,t)=>{const m=q("RouterLink");return d(),f("div",O,[t[10]||(t[10]=s("header",{class:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"},[s("div",{class:"flex h-16 items-center px-6"},[s("h1",{class:"text-xl font-semibold"},"Dashboard")])],-1)),e(o(V),{class:"flex-1"},{default:n(()=>[s("div",P,[s("div",W,[(d(),f(w,null,C(j,a=>e(o(p),{key:a.key},{default:n(()=>[e(o(h),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:n(()=>[e(o(b),{class:"text-sm font-medium"},{default:n(()=>[r(c(a.title),1)]),_:2},1024),(d(),M(T(a.icon),{class:g(["h-5 w-5",a.color])},null,8,["class"]))]),_:2},1024),e(o(x),null,{default:n(()=>[s("div",X,c(B(i.value[a.key])),1),s("div",Y,[(d(),M(T(i.value[a.changeKey]>=0?o(E):o(G)),{class:g(["h-3 w-3 mr-1",i.value[a.changeKey]>=0?"text-green-500":"text-red-500"])},null,8,["class"])),s("span",{class:g(i.value[a.changeKey]>=0?"text-green-500":"text-red-500")},c(Math.abs(i.value[a.changeKey]).toFixed(1))+"% ",3),t[0]||(t[0]=s("span",{class:"ml-1"},"from last month",-1))])]),_:2},1024)]),_:2},1024)),64))]),s("div",Z,[e(o(p),null,{default:n(()=>[e(o(h),null,{default:n(()=>[e(o(b),null,{default:n(()=>[...t[1]||(t[1]=[r("Recent Messages",-1)])]),_:1}),e(o(k),null,{default:n(()=>[...t[2]||(t[2]=[r("Latest conversations from your contacts",-1)])]),_:1})]),_:1}),e(o(x),null,{default:n(()=>[s("div",tt,[(d(!0),f(w,null,C(_.value,a=>(d(),f("div",{key:a.id,class:"flex items-start gap-3"},[s("div",{class:g(["h-10 w-10 rounded-full flex items-center justify-center text-sm font-medium",a.direction==="incoming"?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"])},c(a.contact_name.split(" ").map(u=>u[0]).join("").slice(0,2)),3),s("div",et,[s("div",st,[s("p",at,c(a.contact_name),1),s("span",ot,[e(o(J),{class:"h-3 w-3"}),r(" "+c(F(a.created_at)),1)])]),s("p",nt,c(a.content),1),s("div",lt,[e(o(N),{variant:a.direction==="incoming"?"secondary":"default",class:"text-xs"},{default:n(()=>[r(c(a.direction),1)]),_:2},1032,["variant"]),a.status==="delivered"?(d(),f("span",rt,[e(o(Q),{class:"h-3 w-3 mr-1"}),t[3]||(t[3]=r(" Delivered ",-1))])):z("",!0)])])]))),128))])]),_:1})]),_:1}),e(o(p),null,{default:n(()=>[e(o(h),null,{default:n(()=>[e(o(b),null,{default:n(()=>[...t[4]||(t[4]=[r("Quick Actions",-1)])]),_:1}),e(o(k),null,{default:n(()=>[...t[5]||(t[5]=[r("Common tasks and shortcuts",-1)])]),_:1})]),_:1}),e(o(x),null,{default:n(()=>[s("div",ct,[e(m,{to:"/chat",class:"flex flex-col items-center justify-center p-4 rounded-lg border hover:bg-accent transition-colors"},{default:n(()=>[e(o(D),{class:"h-8 w-8 text-primary mb-2"}),t[6]||(t[6]=s("span",{class:"text-sm font-medium"},"Start Chat",-1))]),_:1}),e(m,{to:"/campaigns",class:"flex flex-col items-center justify-center p-4 rounded-lg border hover:bg-accent transition-colors"},{default:n(()=>[e(o($),{class:"h-8 w-8 text-orange-500 mb-2"}),t[7]||(t[7]=s("span",{class:"text-sm font-medium"},"New Campaign",-1))]),_:1}),e(m,{to:"/templates",class:"flex flex-col items-center justify-center p-4 rounded-lg border hover:bg-accent transition-colors"},{default:n(()=>[...t[8]||(t[8]=[s("span",{class:"h-8 w-8 text-blue-500 mb-2 text-2xl"},"T",-1),s("span",{class:"text-sm font-medium"},"Templates",-1)])]),_:1}),e(m,{to:"/chatbot",class:"flex flex-col items-center justify-center p-4 rounded-lg border hover:bg-accent transition-colors"},{default:n(()=>[e(o(K),{class:"h-8 w-8 text-purple-500 mb-2"}),t[9]||(t[9]=s("span",{class:"text-sm font-medium"},"Chatbot",-1))]),_:1})])]),_:1})]),_:1})])])]),_:1})])}}});export{Ct as default};
