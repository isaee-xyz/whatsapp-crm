import{d as b,u as V,r as f,c as k,a as s,w as t,b as a,e as $,f as L,g as h,o as p,h as l,i as o,j as S,k as j,l as B,K as c}from"./index-CYNh7eqI.js";import{_ as C}from"./Button.vue_vue_type_script_setup_true_lang-CdpToHaS.js";import{_}from"./Input.vue_vue_type_script_setup_true_lang-c8YZDCZO.js";import{_ as v}from"./Label.vue_vue_type_script_setup_true_lang-BiSM-I6O.js";import{_ as E,a as N}from"./CardContent.vue_vue_type_script_setup_true_lang-BVSlREZs.js";import{_ as R,a as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-C5-EVre-.js";import{_ as q}from"./CardDescription.vue_vue_type_script_setup_true_lang-CRilvynw.js";import{_ as K}from"./CardFooter.vue_vue_type_script_setup_true_lang-Bd4Yf3Ax.js";import{M as P}from"./message-square-DMmm80JC.js";import{L as U}from"./loader-2-D9Xdgoi3.js";import"./createLucideIcon-CJWRy_ZI.js";const W={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-green-100 dark:from-gray-900 dark:to-gray-800 p-4"},A={class:"flex justify-center mb-4"},D={class:"h-12 w-12 rounded-xl bg-primary flex items-center justify-center"},I={class:"space-y-2"},T={class:"space-y-2"},z={class:"text-sm text-center text-muted-foreground"},te=b({__name:"LoginView",setup(F){const y=$(),g=L(),x=V(),d=f(""),u=f(""),r=f(!1),w=async()=>{var m,e;if(!d.value||!u.value){c.error("Please enter email and password");return}r.value=!0;try{await x.login(d.value,u.value),c.success("Login successful");const n=g.query.redirect;y.push(n||"/")}catch(n){const i=((e=(m=n.response)==null?void 0:m.data)==null?void 0:e.message)||"Invalid credentials";c.error(i)}finally{r.value=!1}};return(m,e)=>{const n=h("RouterLink");return p(),k("div",W,[s(a(E),{class:"w-full max-w-md"},{default:t(()=>[s(a(R),{class:"space-y-1 text-center"},{default:t(()=>[l("div",A,[l("div",D,[s(a(P),{class:"h-7 w-7 text-primary-foreground"})])]),s(a(M),{class:"text-2xl font-bold"},{default:t(()=>[...e[2]||(e[2]=[o("Welcome to Whatomate",-1)])]),_:1}),s(a(q),null,{default:t(()=>[...e[3]||(e[3]=[o(" Enter your credentials to access your account ",-1)])]),_:1})]),_:1}),l("form",{onSubmit:S(w,["prevent"])},[s(a(N),{class:"space-y-4"},{default:t(()=>[l("div",I,[s(a(v),{for:"email"},{default:t(()=>[...e[4]||(e[4]=[o("Email",-1)])]),_:1}),s(a(_),{id:"email",modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=i=>d.value=i),type:"email",placeholder:"name@example.com",disabled:r.value,autocomplete:"email"},null,8,["modelValue","disabled"])]),l("div",T,[s(a(v),{for:"password"},{default:t(()=>[...e[5]||(e[5]=[o("Password",-1)])]),_:1}),s(a(_),{id:"password",modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=i=>u.value=i),type:"password",placeholder:"Enter your password",disabled:r.value,autocomplete:"current-password"},null,8,["modelValue","disabled"])])]),_:1}),s(a(K),{class:"flex flex-col space-y-4"},{default:t(()=>[s(a(C),{type:"submit",class:"w-full",disabled:r.value},{default:t(()=>[r.value?(p(),j(a(U),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):B("",!0),e[6]||(e[6]=o(" Sign in ",-1))]),_:1},8,["disabled"]),l("p",z,[e[8]||(e[8]=o(" Don't have an account? ",-1)),s(n,{to:"/register",class:"text-primary hover:underline"},{default:t(()=>[...e[7]||(e[7]=[o(" Sign up ",-1)])]),_:1})])]),_:1})],32)]),_:1})])}}});export{te as default};
