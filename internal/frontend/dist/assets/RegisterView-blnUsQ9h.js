import{d as N,u as k,r as i,c as C,a,w as o,b as s,h as d,i as t,k as $,l as P,g as h,j as R,e as S,o as g,K as u}from"./index-CYNh7eqI.js";import{_ as j}from"./Button.vue_vue_type_script_setup_true_lang-CdpToHaS.js";import{_ as m}from"./Input.vue_vue_type_script_setup_true_lang-c8YZDCZO.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-BiSM-I6O.js";import{_ as z,a as B}from"./CardContent.vue_vue_type_script_setup_true_lang-BVSlREZs.js";import{_ as L,a as U}from"./CardTitle.vue_vue_type_script_setup_true_lang-C5-EVre-.js";import{_ as A}from"./CardDescription.vue_vue_type_script_setup_true_lang-CRilvynw.js";import{_ as M}from"./CardFooter.vue_vue_type_script_setup_true_lang-Bd4Yf3Ax.js";import{M as E}from"./message-square-DMmm80JC.js";import{L as K}from"./loader-2-D9Xdgoi3.js";import"./createLucideIcon-CJWRy_ZI.js";const W={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-green-100 dark:from-gray-900 dark:to-gray-800 p-4"},q={class:"flex justify-center mb-4"},D={class:"h-12 w-12 rounded-xl bg-primary flex items-center justify-center"},F={class:"space-y-2"},J={class:"space-y-2"},O={class:"space-y-2"},T={class:"space-y-2"},Y={class:"space-y-2"},G={class:"text-sm text-center text-muted-foreground"},de=N({__name:"RegisterView",setup(H){const x=S(),b=k(),p=i(""),c=i(""),n=i(""),_=i(""),v=i(""),r=i(!1),V=async()=>{var y,e;if(!p.value||!c.value||!n.value||!v.value){u.error("Please fill in all fields");return}if(n.value!==_.value){u.error("Passwords do not match");return}if(n.value.length<8){u.error("Password must be at least 8 characters");return}r.value=!0;try{await b.register({full_name:p.value,email:c.value,password:n.value,organization_name:v.value}),u.success("Registration successful"),x.push("/")}catch(w){const l=((e=(y=w.response)==null?void 0:y.data)==null?void 0:e.message)||"Registration failed";u.error(l)}finally{r.value=!1}};return(y,e)=>{const w=h("RouterLink");return g(),C("div",W,[a(s(z),{class:"w-full max-w-md"},{default:o(()=>[a(s(L),{class:"space-y-1 text-center"},{default:o(()=>[d("div",q,[d("div",D,[a(s(E),{class:"h-7 w-7 text-primary-foreground"})])]),a(s(U),{class:"text-2xl font-bold"},{default:o(()=>[...e[5]||(e[5]=[t("Create an account",-1)])]),_:1}),a(s(A),null,{default:o(()=>[...e[6]||(e[6]=[t(" Start your WhatsApp Business journey with Whatomate ",-1)])]),_:1})]),_:1}),d("form",{onSubmit:R(V,["prevent"])},[a(s(B),{class:"space-y-4"},{default:o(()=>[d("div",F,[a(s(f),{for:"fullName"},{default:o(()=>[...e[7]||(e[7]=[t("Full Name",-1)])]),_:1}),a(s(m),{id:"fullName",modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=l=>p.value=l),type:"text",placeholder:"John Doe",disabled:r.value,autocomplete:"name"},null,8,["modelValue","disabled"])]),d("div",J,[a(s(f),{for:"email"},{default:o(()=>[...e[8]||(e[8]=[t("Email",-1)])]),_:1}),a(s(m),{id:"email",modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=l=>c.value=l),type:"email",placeholder:"name@example.com",disabled:r.value,autocomplete:"email"},null,8,["modelValue","disabled"])]),d("div",O,[a(s(f),{for:"organizationName"},{default:o(()=>[...e[9]||(e[9]=[t("Organization Name",-1)])]),_:1}),a(s(m),{id:"organizationName",modelValue:v.value,"onUpdate:modelValue":e[2]||(e[2]=l=>v.value=l),type:"text",placeholder:"Your Company",disabled:r.value},null,8,["modelValue","disabled"])]),d("div",T,[a(s(f),{for:"password"},{default:o(()=>[...e[10]||(e[10]=[t("Password",-1)])]),_:1}),a(s(m),{id:"password",modelValue:n.value,"onUpdate:modelValue":e[3]||(e[3]=l=>n.value=l),type:"password",placeholder:"At least 8 characters",disabled:r.value,autocomplete:"new-password"},null,8,["modelValue","disabled"])]),d("div",Y,[a(s(f),{for:"confirmPassword"},{default:o(()=>[...e[11]||(e[11]=[t("Confirm Password",-1)])]),_:1}),a(s(m),{id:"confirmPassword",modelValue:_.value,"onUpdate:modelValue":e[4]||(e[4]=l=>_.value=l),type:"password",placeholder:"Confirm your password",disabled:r.value,autocomplete:"new-password"},null,8,["modelValue","disabled"])])]),_:1}),a(s(M),{class:"flex flex-col space-y-4"},{default:o(()=>[a(s(j),{type:"submit",class:"w-full",disabled:r.value},{default:o(()=>[r.value?(g(),$(s(K),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):P("",!0),e[12]||(e[12]=t(" Create account ",-1))]),_:1},8,["disabled"]),d("p",G,[e[14]||(e[14]=t(" Already have an account? ",-1)),a(w,{to:"/login",class:"text-primary hover:underline"},{default:o(()=>[...e[13]||(e[13]=[t(" Sign in ",-1)])]),_:1})])]),_:1})],32)]),_:1})])}}});export{de as default};
