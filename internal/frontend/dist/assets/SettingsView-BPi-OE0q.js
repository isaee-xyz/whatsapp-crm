import{d as O,r as y,p as H,x as K,Q as D,c as b,h as t,a,b as s,w as l,i,I as p,J as S,k as T,l as Y,S as A,F,s as P,v as j,K as g,o as f}from"./index-CYNh7eqI.js";import{_ as x,a as c}from"./CardContent.vue_vue_type_script_setup_true_lang-BVSlREZs.js";import{_ as k,a as w}from"./CardTitle.vue_vue_type_script_setup_true_lang-C5-EVre-.js";import{_ as V}from"./CardDescription.vue_vue_type_script_setup_true_lang-CRilvynw.js";import{_ as M}from"./Button.vue_vue_type_script_setup_true_lang-CdpToHaS.js";import{_ as I}from"./Input.vue_vue_type_script_setup_true_lang-c8YZDCZO.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-BiSM-I6O.js";import{_ as U}from"./Textarea.vue_vue_type_script_setup_true_lang-qPA_yzOk.js";import{_ as R}from"./ScrollArea.vue_vue_type_script_setup_true_lang-BYu-HJVo.js";import{_ as C}from"./Separator.vue_vue_type_script_setup_true_lang-D6eY7m55.js";import{S as q}from"./settings-CNbxJwUX.js";import{L as z}from"./loader-2-D9Xdgoi3.js";import{B as Z}from"./bot-D9zzBn9G.js";import{a as B}from"./createLucideIcon-CJWRy_ZI.js";/**
 * @license lucide-vue-next v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=B("BellIcon",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-vue-next v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=B("BrainIcon",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-vue-next v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=B("ShieldIcon",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),W={class:"flex flex-col h-full"},X={class:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"},ee={class:"flex h-16 items-center px-6"},te={class:"p-6 space-y-6 max-w-3xl"},se={class:"space-y-2"},ae={class:"grid grid-cols-2 gap-4"},le={class:"space-y-2"},oe={class:"space-y-2"},ie={class:"flex justify-end"},ne={class:"flex items-center gap-2"},de={class:"space-y-2"},ue={class:"space-y-2"},re={class:"space-y-2"},me={class:"space-y-2"},pe={class:"flex justify-end"},fe={class:"flex items-center gap-2"},_e={class:"flex items-center justify-between"},ve={key:0,class:"space-y-4 pt-2"},ge={class:"grid grid-cols-2 gap-4"},ye={class:"space-y-2"},be=["value"],xe={class:"space-y-2"},ce=["disabled"],ke=["value"],we={class:"space-y-2"},Ve={class:"space-y-2"},Me={class:"space-y-2"},Se={class:"flex justify-end pt-2"},Ye={class:"flex items-center gap-2"},Ae={class:"flex items-center justify-between"},Ie={class:"flex items-center justify-between"},Ue={class:"flex items-center justify-between"},Ce={class:"flex items-center gap-2"},De={class:"flex items-center justify-between"},Te={class:"flex items-center justify-between"},Ze=O({__name:"SettingsView",setup(ze){const u=y(!1),_=y({organization_name:"My Organization",default_timezone:"UTC",date_format:"YYYY-MM-DD"}),r=y({greeting_message:"",fallback_message:"",session_timeout_minutes:30,transfer_message:""}),n=y({ai_enabled:!1,ai_provider:"",ai_api_key:"",ai_model:"",ai_max_tokens:500,ai_system_prompt:""}),$=[{value:"openai",label:"OpenAI",models:["gpt-4o","gpt-4o-mini","gpt-4-turbo","gpt-3.5-turbo"]},{value:"anthropic",label:"Anthropic",models:["claude-3-5-sonnet-latest","claude-3-5-haiku-latest","claude-3-opus-latest"]},{value:"google",label:"Google AI",models:["gemini-2.0-flash","gemini-2.0-flash-lite","gemini-1.5-flash","gemini-1.5-flash-8b"]}],N=H(()=>{const d=$.find(e=>e.value===n.value.ai_provider);return(d==null?void 0:d.models)||[]});K(async()=>{try{const d=await D.getSettings(),e=d.data.data||d.data;e.settings&&(r.value={greeting_message:e.settings.greeting_message||"",fallback_message:e.settings.fallback_message||"",session_timeout_minutes:e.settings.session_timeout_minutes||30,transfer_message:""},n.value={ai_enabled:e.settings.ai_enabled||!1,ai_provider:e.settings.ai_provider||"",ai_api_key:"",ai_model:e.settings.ai_model||"",ai_max_tokens:e.settings.ai_max_tokens||500,ai_system_prompt:e.settings.ai_system_prompt||""})}catch(d){console.error("Failed to load settings:",d)}});const v=y({email_notifications:!0,new_message_alerts:!0,campaign_updates:!0});async function E(){u.value=!0;try{await new Promise(d=>setTimeout(d,500)),g.success("General settings saved")}catch{g.error("Failed to save settings")}finally{u.value=!1}}async function L(){u.value=!0;try{await D.updateSettings({greeting_message:r.value.greeting_message,fallback_message:r.value.fallback_message,session_timeout_minutes:r.value.session_timeout_minutes}),g.success("Chatbot settings saved")}catch{g.error("Failed to save settings")}finally{u.value=!1}}async function G(){u.value=!0;try{const d={ai_enabled:n.value.ai_enabled,ai_provider:n.value.ai_provider,ai_model:n.value.ai_model,ai_max_tokens:n.value.ai_max_tokens,ai_system_prompt:n.value.ai_system_prompt};n.value.ai_api_key&&(d.ai_api_key=n.value.ai_api_key),await D.updateSettings(d),g.success("AI settings saved"),n.value.ai_api_key=""}catch{g.error("Failed to save AI settings")}finally{u.value=!1}}return(d,e)=>(f(),b("div",W,[t("header",X,[t("div",ee,[a(s(q),{class:"h-5 w-5 mr-3"}),e[16]||(e[16]=t("div",null,[t("h1",{class:"text-xl font-semibold"},"Settings"),t("p",{class:"text-sm text-muted-foreground"},"Manage your account and application settings")],-1))])]),a(s(R),{class:"flex-1"},{default:l(()=>[t("div",te,[a(s(x),null,{default:l(()=>[a(s(k),null,{default:l(()=>[a(s(w),null,{default:l(()=>[...e[17]||(e[17]=[i("General Settings",-1)])]),_:1}),a(s(V),null,{default:l(()=>[...e[18]||(e[18]=[i("Basic organization and display settings",-1)])]),_:1})]),_:1}),a(s(c),{class:"space-y-4"},{default:l(()=>[t("div",se,[a(s(m),{for:"org_name"},{default:l(()=>[...e[19]||(e[19]=[i("Organization Name",-1)])]),_:1}),a(s(I),{id:"org_name",modelValue:_.value.organization_name,"onUpdate:modelValue":e[0]||(e[0]=o=>_.value.organization_name=o),placeholder:"Your Organization"},null,8,["modelValue"])]),t("div",ae,[t("div",le,[a(s(m),{for:"timezone"},{default:l(()=>[...e[20]||(e[20]=[i("Default Timezone",-1)])]),_:1}),p(t("select",{id:"timezone","onUpdate:modelValue":e[1]||(e[1]=o=>_.value.default_timezone=o),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[...e[21]||(e[21]=[t("option",{value:"UTC"},"UTC",-1),t("option",{value:"America/New_York"},"Eastern Time",-1),t("option",{value:"America/Los_Angeles"},"Pacific Time",-1),t("option",{value:"Europe/London"},"London",-1),t("option",{value:"Asia/Tokyo"},"Tokyo",-1)])],512),[[S,_.value.default_timezone]])]),t("div",oe,[a(s(m),{for:"date_format"},{default:l(()=>[...e[22]||(e[22]=[i("Date Format",-1)])]),_:1}),p(t("select",{id:"date_format","onUpdate:modelValue":e[2]||(e[2]=o=>_.value.date_format=o),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[...e[23]||(e[23]=[t("option",{value:"YYYY-MM-DD"},"YYYY-MM-DD",-1),t("option",{value:"DD/MM/YYYY"},"DD/MM/YYYY",-1),t("option",{value:"MM/DD/YYYY"},"MM/DD/YYYY",-1)])],512),[[S,_.value.date_format]])])]),t("div",ie,[a(s(M),{onClick:E,disabled:u.value},{default:l(()=>[u.value?(f(),T(s(z),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):Y("",!0),e[24]||(e[24]=i(" Save Changes ",-1))]),_:1},8,["disabled"])])]),_:1})]),_:1}),a(s(x),null,{default:l(()=>[a(s(k),null,{default:l(()=>[t("div",ne,[a(s(Z),{class:"h-5 w-5"}),t("div",null,[a(s(w),null,{default:l(()=>[...e[25]||(e[25]=[i("Chatbot Settings",-1)])]),_:1}),a(s(V),null,{default:l(()=>[...e[26]||(e[26]=[i("Configure default chatbot behavior",-1)])]),_:1})])])]),_:1}),a(s(c),{class:"space-y-4"},{default:l(()=>[t("div",de,[a(s(m),{for:"greeting"},{default:l(()=>[...e[27]||(e[27]=[i("Greeting Message",-1)])]),_:1}),a(s(U),{id:"greeting",modelValue:r.value.greeting_message,"onUpdate:modelValue":e[3]||(e[3]=o=>r.value.greeting_message=o),placeholder:"Hello! How can I help you?",rows:2},null,8,["modelValue"])]),t("div",ue,[a(s(m),{for:"fallback"},{default:l(()=>[...e[28]||(e[28]=[i("Fallback Message",-1)])]),_:1}),a(s(U),{id:"fallback",modelValue:r.value.fallback_message,"onUpdate:modelValue":e[4]||(e[4]=o=>r.value.fallback_message=o),placeholder:"Sorry, I didn't understand that.",rows:2},null,8,["modelValue"])]),t("div",re,[a(s(m),{for:"transfer"},{default:l(()=>[...e[29]||(e[29]=[i("Transfer Message",-1)])]),_:1}),a(s(U),{id:"transfer",modelValue:r.value.transfer_message,"onUpdate:modelValue":e[5]||(e[5]=o=>r.value.transfer_message=o),placeholder:"Transferring you to a human agent...",rows:2},null,8,["modelValue"])]),t("div",me,[a(s(m),{for:"timeout"},{default:l(()=>[...e[30]||(e[30]=[i("Session Timeout (minutes)",-1)])]),_:1}),a(s(I),{id:"timeout",modelValue:r.value.session_timeout_minutes,"onUpdate:modelValue":e[6]||(e[6]=o=>r.value.session_timeout_minutes=o),modelModifiers:{number:!0},type:"number",min:"5",max:"120"},null,8,["modelValue"])]),t("div",pe,[a(s(M),{onClick:L,disabled:u.value},{default:l(()=>[u.value?(f(),T(s(z),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):Y("",!0),e[31]||(e[31]=i(" Save Changes ",-1))]),_:1},8,["disabled"])])]),_:1})]),_:1}),a(s(x),null,{default:l(()=>[a(s(k),null,{default:l(()=>[t("div",fe,[a(s(Q),{class:"h-5 w-5"}),t("div",null,[a(s(w),null,{default:l(()=>[...e[32]||(e[32]=[i("AI Settings",-1)])]),_:1}),a(s(V),null,{default:l(()=>[...e[33]||(e[33]=[i("Configure AI-powered responses for your chatbot",-1)])]),_:1})])])]),_:1}),a(s(c),{class:"space-y-4"},{default:l(()=>[t("div",_e,[e[34]||(e[34]=t("div",null,[t("p",{class:"font-medium"},"Enable AI Responses"),t("p",{class:"text-sm text-muted-foreground"},"Use AI to generate responses when no flow matches")],-1)),p(t("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=o=>n.value.ai_enabled=o),class:"h-5 w-5 rounded"},null,512),[[A,n.value.ai_enabled]])]),n.value.ai_enabled?(f(),b("div",ve,[a(s(C)),t("div",ge,[t("div",ye,[a(s(m),{for:"ai_provider"},{default:l(()=>[...e[35]||(e[35]=[i("AI Provider",-1)])]),_:1}),p(t("select",{id:"ai_provider","onUpdate:modelValue":e[8]||(e[8]=o=>n.value.ai_provider=o),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"},[e[36]||(e[36]=t("option",{value:""},"Select provider...",-1)),(f(),b(F,null,P($,o=>t("option",{key:o.value,value:o.value},j(o.label),9,be)),64))],512),[[S,n.value.ai_provider]])]),t("div",xe,[a(s(m),{for:"ai_model"},{default:l(()=>[...e[37]||(e[37]=[i("Model",-1)])]),_:1}),p(t("select",{id:"ai_model","onUpdate:modelValue":e[9]||(e[9]=o=>n.value.ai_model=o),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",disabled:!n.value.ai_provider},[e[38]||(e[38]=t("option",{value:""},"Select model...",-1)),(f(!0),b(F,null,P(N.value,o=>(f(),b("option",{key:o,value:o},j(o),9,ke))),128))],8,ce),[[S,n.value.ai_model]])])]),t("div",we,[a(s(m),{for:"ai_api_key"},{default:l(()=>[...e[39]||(e[39]=[i("API Key",-1)])]),_:1}),a(s(I),{id:"ai_api_key",modelValue:n.value.ai_api_key,"onUpdate:modelValue":e[10]||(e[10]=o=>n.value.ai_api_key=o),type:"password",placeholder:"Enter API key (leave empty to keep existing)"},null,8,["modelValue"]),e[40]||(e[40]=t("p",{class:"text-xs text-muted-foreground"},"Your API key is encrypted and stored securely",-1))]),t("div",Ve,[a(s(m),{for:"ai_max_tokens"},{default:l(()=>[...e[41]||(e[41]=[i("Max Tokens",-1)])]),_:1}),a(s(I),{id:"ai_max_tokens",modelValue:n.value.ai_max_tokens,"onUpdate:modelValue":e[11]||(e[11]=o=>n.value.ai_max_tokens=o),modelModifiers:{number:!0},type:"number",min:"100",max:"4000"},null,8,["modelValue"]),e[42]||(e[42]=t("p",{class:"text-xs text-muted-foreground"},"Maximum number of tokens for AI responses (100-4000)",-1))]),t("div",Me,[a(s(m),{for:"ai_system_prompt"},{default:l(()=>[...e[43]||(e[43]=[i("System Prompt (optional)",-1)])]),_:1}),a(s(U),{id:"ai_system_prompt",modelValue:n.value.ai_system_prompt,"onUpdate:modelValue":e[12]||(e[12]=o=>n.value.ai_system_prompt=o),placeholder:"You are a helpful customer service assistant...",rows:3},null,8,["modelValue"]),e[44]||(e[44]=t("p",{class:"text-xs text-muted-foreground"},"Instructions for the AI on how to respond",-1))])])):Y("",!0),t("div",Se,[a(s(M),{onClick:G,disabled:u.value},{default:l(()=>[u.value?(f(),T(s(z),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):Y("",!0),e[45]||(e[45]=i(" Save Changes ",-1))]),_:1},8,["disabled"])])]),_:1})]),_:1}),a(s(x),null,{default:l(()=>[a(s(k),null,{default:l(()=>[t("div",Ye,[a(s(J),{class:"h-5 w-5"}),t("div",null,[a(s(w),null,{default:l(()=>[...e[46]||(e[46]=[i("Notifications",-1)])]),_:1}),a(s(V),null,{default:l(()=>[...e[47]||(e[47]=[i("Manage how you receive notifications",-1)])]),_:1})])])]),_:1}),a(s(c),{class:"space-y-4"},{default:l(()=>[t("div",Ae,[e[48]||(e[48]=t("div",null,[t("p",{class:"font-medium"},"Email Notifications"),t("p",{class:"text-sm text-muted-foreground"},"Receive important updates via email")],-1)),p(t("input",{type:"checkbox","onUpdate:modelValue":e[13]||(e[13]=o=>v.value.email_notifications=o),class:"h-5 w-5 rounded"},null,512),[[A,v.value.email_notifications]])]),a(s(C)),t("div",Ie,[e[49]||(e[49]=t("div",null,[t("p",{class:"font-medium"},"New Message Alerts"),t("p",{class:"text-sm text-muted-foreground"},"Get notified when new messages arrive")],-1)),p(t("input",{type:"checkbox","onUpdate:modelValue":e[14]||(e[14]=o=>v.value.new_message_alerts=o),class:"h-5 w-5 rounded"},null,512),[[A,v.value.new_message_alerts]])]),a(s(C)),t("div",Ue,[e[50]||(e[50]=t("div",null,[t("p",{class:"font-medium"},"Campaign Updates"),t("p",{class:"text-sm text-muted-foreground"},"Receive campaign status notifications")],-1)),p(t("input",{type:"checkbox","onUpdate:modelValue":e[15]||(e[15]=o=>v.value.campaign_updates=o),class:"h-5 w-5 rounded"},null,512),[[A,v.value.campaign_updates]])])]),_:1})]),_:1}),a(s(x),null,{default:l(()=>[a(s(k),null,{default:l(()=>[t("div",Ce,[a(s(h),{class:"h-5 w-5"}),t("div",null,[a(s(w),null,{default:l(()=>[...e[51]||(e[51]=[i("Security",-1)])]),_:1}),a(s(V),null,{default:l(()=>[...e[52]||(e[52]=[i("Manage your account security",-1)])]),_:1})])])]),_:1}),a(s(c),{class:"space-y-4"},{default:l(()=>[t("div",De,[e[54]||(e[54]=t("div",null,[t("p",{class:"font-medium"},"Change Password"),t("p",{class:"text-sm text-muted-foreground"},"Update your account password")],-1)),a(s(M),{variant:"outline"},{default:l(()=>[...e[53]||(e[53]=[i("Change Password",-1)])]),_:1})]),a(s(C)),t("div",Te,[e[56]||(e[56]=t("div",null,[t("p",{class:"font-medium"},"Two-Factor Authentication"),t("p",{class:"text-sm text-muted-foreground"},"Add an extra layer of security")],-1)),a(s(M),{variant:"outline"},{default:l(()=>[...e[55]||(e[55]=[i("Enable 2FA",-1)])]),_:1})])]),_:1})]),_:1})])]),_:1})]))}});export{Ze as default};
